<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Emovibe æƒ…ç»ªé™ªä¼´</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>Emovibe æƒ…ç»ªé™ªä¼´</h1>
    <p>ä¸€ä¸ªå€¾å¬ä½ å¿ƒå£°çš„å°ä¸–ç•Œ ğŸŒ™</p>
  </header>

  <main>
    <button onclick="location.href='chat.html'">å¼€å§‹èŠå¤©</button>
    <button onclick="location.href='treehole.html'">æ ‘æ´ç•™è¨€</button>
  </main>

  <footer>
    <p>Â© 2025 Emovibe | ç”¨å¿ƒé™ªä¼´æ¯ä¸€ä¸ªæƒ…ç»ª</p>
  </footer>
</body>
</html>
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æƒ…ç»ªèŠå¤© - Emovibe</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h2>Emovibe èŠå¤©å®¤</h2>
  </header>

  <main>
    <div id="response">ğŸ‘‹ ä½ å¥½ï¼Œæˆ‘æ˜¯ Emovibeï¼Œä½ ç°åœ¨çš„å¿ƒæƒ…æ€ä¹ˆæ ·ï¼Ÿ</div>
    <input id="message" type="text" placeholder="è¾“å…¥ä½ çš„å¿ƒæƒ…..." />
    <button onclick="sendMessage()">å‘é€</button>
  </main>

  <script>
  async function sendMessage() {
    const msg = document.getElementById('message').value.trim();
    if (!msg) return;
    document.getElementById('response').innerText = "ğŸ§  æ€è€ƒä¸­...";
    const res = await fetch('/api', {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ msg })
    });
    const data = await res.json();
    document.getElementById('response').innerText = data.reply || "å‡ºé”™äº†ï¼Œè¯·ç¨åå†è¯• ğŸ˜¢";
  }
  </script>
</body>
</html>
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ ‘æ´ - Emovibe</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h2>ğŸŒ³ Emovibe æ ‘æ´</h2>
  </header>

  <main>
    <textarea id="note" placeholder="å†™ä¸‹ä½ çš„ç§˜å¯†æˆ–å¿ƒæƒ…..."></textarea>
    <button onclick="saveNote()">å‘å¸ƒ</button>
    <div id="list"></div>
  </main>

  <script>
  function saveNote() {
    const note = document.getElementById('note').value.trim();
    if (!note) return;
    const list = document.getElementById('list');
    const p = document.createElement('p');
    p.textContent = note;
    list.prepend(p);
    document.getElementById('note').value = '';
  }
  </script>
</body>
</html>
body {
  font-family: "Microsoft YaHei", sans-serif;
  background: #f2f6fc;
  color: #333;
  text-align: center;
  margin: 0;
  padding: 0;
}

header {
  background: linear-gradient(120deg, #3f87a6, #ebf8e1);
  color: #222;
  padding: 20px;
}

button {
  background: #4a90e2;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 6px;
  cursor: pointer;
  margin: 10px;
}

button:hover {
  background: #357ABD;
}

textarea, input {
  width: 80%;
  margin: 10px auto;
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 6px;
}
export default async function handler(req, res) {
  try {
    const body = await req.json();
    const msg = body.msg;

    const response = await fetch("https://api.openai.com/v1/chat/completions", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${process.env.OPENAI_API_KEY}`,
      },
      body: JSON.stringify({
        model: "gpt-4o-mini",
        messages: [{ role: "user", content: msg }],
      }),
    });

    const data = await response.json();
    res.status(200).json({ reply: data.choices[0].message.content });
  } catch (e) {
    res.status(500).json({ error: "æœåŠ¡å™¨é”™è¯¯ï¼Œè¯·ç¨åå†è¯•" });
  }
}
